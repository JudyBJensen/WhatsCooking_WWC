(function(){d3.box=function(){var d=1,n=1,g=0,h=null,m=Number,l=b,f=a,k=true,i=4,c=1,e=null;function j(o){o.each(function(J,y){var G=J[1].sort(d3.ascending);var A=d3.select(this),t=G.length,u=G[0],x=G[t-1];var p=G.quartiles=f(G);var D=l&&l.call(this,G,y),v=D&&D.map(function(K){return G[K]});var F=D?d3.range(0,D[0]).concat(d3.range(D[1]+1,t)):d3.range(t);var B=d3.scale.linear().domain(h&&h.call(this,G,y)||[u,x]).range([n,0]);var E=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(B.range());this.__chart__=B;var I=A.selectAll("line.center").data(v?[v]:[]);I.enter().insert("line","rect").attr("class","center").attr("x1",d/2).attr("y1",function(K){return E(K[0])}).attr("x2",d/2).attr("y2",function(K){return E(K[1])}).style("opacity",0.000001).transition().duration(g).style("opacity",1).attr("y1",function(K){return B(K[0])}).attr("y2",function(K){return B(K[1])});I.transition().duration(g).style("opacity",1).attr("y1",function(K){return B(K[0])}).attr("y2",function(K){return B(K[1])});I.exit().transition().duration(g).style("opacity",0.000001).attr("y1",function(K){return B(K[0])}).attr("y2",function(K){return B(K[1])}).remove();var q=A.selectAll("rect.box").data([p]);q.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(K){return E(K[2])}).attr("width",d).attr("height",function(K){return E(K[0])-E(K[2])}).transition().duration(g).attr("y",function(K){return B(K[2])}).attr("height",function(K){return B(K[0])-B(K[2])});q.transition().duration(g).attr("y",function(K){return B(K[2])}).attr("height",function(K){return B(K[0])-B(K[2])});var w=A.selectAll("line.median").data([p[1]]);w.enter().append("line").attr("class","median").attr("x1",0).attr("y1",E).attr("x2",d).attr("y2",E).transition().duration(g).attr("y1",B).attr("y2",B);w.transition().duration(g).attr("y1",B).attr("y2",B);var s=A.selectAll("line.whisker").data(v||[]);s.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",E).attr("x2",0+d).attr("y2",E).style("opacity",0.000001).transition().duration(g).attr("y1",B).attr("y2",B).style("opacity",1);s.transition().duration(g).attr("y1",B).attr("y2",B).style("opacity",1);s.exit().transition().duration(g).attr("y1",B).attr("y2",B).style("opacity",0.000001).remove();var H=A.selectAll("circle.outlier").data(F,Number);H.enter().insert("circle","text").attr("class","outlier").attr("r",5).attr("cx",d/2).attr("cy",function(K){return E(G[K])}).style("opacity",0.000001).transition().duration(g).attr("cy",function(K){return B(G[K])}).style("opacity",1);H.transition().duration(g).attr("cy",function(K){return B(G[K])}).style("opacity",1);H.exit().transition().duration(g).attr("cy",function(K){return B(G[K])}).style("opacity",0.000001).remove();var z=e||B.tickFormat(8);var C=A.selectAll("text.box").data(p);if(k==true){C.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(L,K){return K&1?6:-6}).attr("x",function(L,K){return K&1?+d:0}).attr("y",E).attr("text-anchor",function(L,K){return K&1?"start":"end"}).text(z).transition().duration(g).attr("y",B)}C.transition().duration(g).text(z).attr("y",B);var r=A.selectAll("text.whisker").data(v||[]);if(k==true){r.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",d).attr("y",E).text(z).style("opacity",0.000001).transition().duration(g).attr("y",B).style("opacity",1)}r.transition().duration(g).text(z).attr("y",B).style("opacity",1);r.exit().transition().duration(g).attr("y",B).style("opacity",0.000001).remove()});d3.timer.flush()}j.width=function(o){if(!arguments.length){return d}d=o;return j};j.height=function(o){if(!arguments.length){return n}n=o;return j};j.tickFormat=function(o){if(!arguments.length){return e}e=o;return j};j.duration=function(o){if(!arguments.length){return g}g=o;return j};j.domain=function(o){if(!arguments.length){return h}h=o==null?o:d3.functor(o);return j};j.value=function(o){if(!arguments.length){return m}m=o;return j};j.whiskers=function(o){if(!arguments.length){return l}l=o;return j};j.showLabels=function(o){if(!arguments.length){return k}k=o;return j};j.quartiles=function(o){if(!arguments.length){return f}f=o;return j};return j};function b(c){return[0,c.length-1]}function a(c){return[d3.quantile(c,0.25),d3.quantile(c,0.5),d3.quantile(c,0.75)]}})();